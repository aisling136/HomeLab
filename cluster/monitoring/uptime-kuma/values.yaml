app-template:
  controllers:
    uptime-kuma:
      annotations:
        reloader.stakater.com/auto: "true"
      labels:
        app: &app uptime-kuma
      containers:
        uptime-kuma:
          env:
            TZ: America/New_York
          image:
            repository: louislam/uptime-kuma
            tag: 2.1.3@sha256:32c352a235fd10f98b3f64a6a4345d3c0c7f4e8be7810d2e1e867f7fe2e48ba2
          ports:
            - name: http
              containerPort: 3001
              protocol: TCP
          resources:
            requests:
              cpu: 20m
              memory: 50Mi
            limits:
              memory: 150Mi
  service:
    uptime-kuma:
      controller: *app
      labels:
        app: *app
      ports:
        http:
          port: 3001
          protocol: TCP
  route:
    uptime-kuma:
      annotations:
        gethomepage.dev/enabled: "true"
        gethomepage.dev/icon: uptime-kuma.svg
        gethomepage.dev/name: "Uptime Kuma"
        gethomepage.dev/group: Monitoring
        external-dns.alpha.kubernetes.io/target: "external.aisling.dev"
      hostnames:
        - status.aisling.dev
      parentRefs:
        - name: envoy-aisling-dev-external
          namespace: network
  persistence:
    data:
      existingClaim: pvc-uptime-kuma
      globalMounts:
        - path: /app/data
